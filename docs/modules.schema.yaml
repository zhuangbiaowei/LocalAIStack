$schema: https://json-schema.org/draft/2020-12/schema
$id: https://localaistack.ai/schemas/module-manifest.json
title: LocalAIStack Module Manifest
type: object
required:
  - name
  - category
  - version
  - description
  - runtime
properties:
  name:
    type: string
    minLength: 1
  category:
    type: string
    enum:
      - language
      - runtime
      - framework
      - service
      - application
      - tool
      - model
  version:
    type: string
    pattern: "^[0-9]+(\\.[0-9]+){0,2}$"
  description:
    type: string
    minLength: 1
  license:
    type: string
  hardware:
    type: object
    properties:
      cpu:
        type: object
        properties:
          cores_min:
            type: integer
            minimum: 1
      memory:
        type: object
        properties:
          ram_min:
            type: string
      gpu:
        type: object
        properties:
          vram_min:
            type: string
          multi_gpu:
            type: boolean
  dependencies:
    type: object
    properties:
      system:
        type: array
        items:
          type: string
      modules:
        type: array
        items:
          type: string
          description: "module-name or module-name@>=1.2.3"
      runtime:
        type: array
        items:
          type: string
  runtime:
    type: object
    required:
      - modes
    properties:
      modes:
        type: array
        minItems: 1
        items:
          type: string
      preferred:
        type: string
  interfaces:
    type: object
    properties:
      provides:
        type: array
        items:
          type: string
      consumes:
        type: array
        items:
          type: string
  integrity:
    type: object
    properties:
      checksum:
        type: string
        description: "sha256 checksum of the manifest file"
      signature:
        type: string
additionalProperties: false
